TRANSLATIONS = {
    "en": {
        "hero_title": "Print address labels in minutes",
        "hero_desc": "Upload your CSV, pick your Avery sheet (or build your own format), tweak margins, preview the result, and export a print-ready PDF for mailing campaigns.",
        "dark_mode": "Dark mode",
        "how_it_works": "How it works",
        "step1_title": "1. Upload",
        "step1_desc": "Import a CSV with title, name, surname, address and country.",
        "step2_title": "2. Configure",
        "step2_desc": "Select Avery format or define your own label sheet dimensions.",
        "step3_title": "3. Print",
        "step3_desc": "Preview labels, generate PDF, and print on sticker sheets.",
        "templates_preview": "Templates preview",
        "generate_labels": "Generate your labels",
        "need_example": "Need an example?",
        "download_sample": "Download sample CSV",
        "preview_labels": "Preview labels",
        "badge_csv": "CSV upload",
        "badge_avery": "Avery templates",
        "badge_custom": "Custom format",
        "badge_pdf": "PDF export",
        "avery_template": "Avery template",
        "csv_file": "CSV file",
        "top_margin": "Top margin (mm)",
        "right_margin": "Right margin (mm)",
        "bottom_margin": "Bottom margin (mm)",
        "left_margin": "Left margin (mm)",
        "title_line_1": "Title line 1 (optional)",
        "rows": "Rows",
        "columns": "Columns",
        "label_width": "Label width (mm)",
        "label_height": "Label height (mm)",
        "pitch_x": "Pitch X (mm)",
        "pitch_y": "Pitch Y (mm)",
        "origin_x": "Origin X (mm)",
        "origin_y": "Origin Y (mm)",

    },
    "fr": {
        "hero_title": "Imprimez des étiquettes d'adresse en quelques minutes",
        "hero_desc": "Importez votre CSV, choisissez votre planche Avery (ou créez votre propre format), ajustez les marges, prévisualisez le rendu et exportez un PDF prêt à imprimer.",
        "dark_mode": "Mode sombre",
        "how_it_works": "Comment ça marche",
        "step1_title": "1. Import",
        "step1_desc": "Importez un CSV avec civilité, prénom, nom, adresse et pays.",
        "step2_title": "2. Configuration",
        "step2_desc": "Choisissez un format Avery ou définissez votre propre format d'étiquette.",
        "step3_title": "3. Impression",
        "step3_desc": "Prévisualisez les étiquettes, générez le PDF et imprimez.",
        "templates_preview": "Aperçu des modèles",
        "generate_labels": "Générez vos étiquettes",
        "need_example": "Besoin d'un exemple ?",
        "download_sample": "Télécharger un CSV exemple",
        "preview_labels": "Prévisualiser les étiquettes",
        "badge_csv": "Importer CSV",
        "badge_avery": "Modèles Avery",
        "badge_custom": "Format personnalisé",
        "badge_pdf": "Export PDF",
        "avery_template": "Modèle Avery",
        "csv_file": "Fichier CSV",
        "top_margin": "Marge haute (mm)",
        "right_margin": "Marge droite (mm)",
        "bottom_margin": "Marge basse (mm)",
        "left_margin": "Marge gauche (mm)",
        "title_line_1": "Titre ligne 1 (optionnel)",
        "rows": "Lignes",
        "columns": "Colonnes",
        "label_width": "Largeur étiquette (mm)",
        "label_height": "Hauteur étiquette (mm)",
        "pitch_x": "Pas X (mm)",
        "pitch_y": "Pas Y (mm)",
        "origin_x": "Origine X (mm)",
        "origin_y": "Origine Y (mm)",

    },

    "es": {
        "hero_title": "Imprime etiquetas de dirección en minutos",
        "hero_desc": "Sube tu CSV, elige tu hoja Avery (o crea tu propio formato), ajusta los márgenes, previsualiza el resultado y exporta un PDF listo para imprimir.",
        "dark_mode": "Modo oscuro",
        "how_it_works": "Cómo funciona",
        "step1_title": "1. Subir",
        "step1_desc": "Importa un CSV con título, nombre, apellido, dirección y país.",
        "step2_title": "2. Configurar",
        "step2_desc": "Selecciona un formato Avery o define tu propio formato de etiqueta.",
        "step3_title": "3. Imprimir",
        "step3_desc": "Previsualiza las etiquetas, genera el PDF e imprime en tus hojas adhesivas.",
        "templates_preview": "Vista previa de plantillas",
        "generate_labels": "Genera tus etiquetas",
        "need_example": "¿Necesitas un ejemplo?",
        "download_sample": "Descargar CSV de ejemplo",
        "preview_labels": "Previsualizar etiquetas",
        "badge_csv": "Carga CSV",
        "badge_avery": "Plantillas Avery",
        "badge_custom": "Formato personalizado",
        "badge_pdf": "Exportar PDF",
        "avery_template": "Plantilla Avery",
        "csv_file": "Archivo CSV",
        "top_margin": "Margen superior (mm)",
        "right_margin": "Margen derecho (mm)",
        "bottom_margin": "Margen inferior (mm)",
        "left_margin": "Margen izquierdo (mm)",
        "title_line_1": "Título línea 1 (opcional)",
        "rows": "Filas",
        "columns": "Columnas",
        "label_width": "Ancho etiqueta (mm)",
        "label_height": "Alto etiqueta (mm)",
        "pitch_x": "Paso X (mm)",
        "pitch_y": "Paso Y (mm)",
        "origin_x": "Origen X (mm)",
        "origin_y": "Origen Y (mm)",

    },
    "de": {
        "hero_title": "Adressetiketten in Minuten drucken",
        "hero_desc": "CSV hochladen, Avery-Bogen auswählen (oder eigenes Format erstellen), Ränder anpassen, Vorschau prüfen und druckfertiges PDF exportieren.",
        "dark_mode": "Dunkelmodus",
        "how_it_works": "So funktioniert's",
        "step1_title": "1. Hochladen",
        "step1_desc": "Importiere eine CSV mit Titel, Vorname, Nachname, Adresse und Land.",
        "step2_title": "2. Konfigurieren",
        "step2_desc": "Wähle ein Avery-Format oder definiere ein eigenes Etikettenformat.",
        "step3_title": "3. Drucken",
        "step3_desc": "Etiketten prüfen, PDF erzeugen und auf Etikettenbögen drucken.",
        "templates_preview": "Vorlagenvorschau",
        "generate_labels": "Etiketten erstellen",
        "need_example": "Beispieldatei benötigt?",
        "download_sample": "Beispiel-CSV herunterladen",
        "preview_labels": "Etikettenvorschau",
        "badge_csv": "CSV-Upload",
        "badge_avery": "Avery-Vorlagen",
        "badge_custom": "Benutzerdefiniertes Format",
        "badge_pdf": "PDF-Export",
        "avery_template": "Avery-Vorlage",
        "csv_file": "CSV-Datei",
        "top_margin": "Oberer Rand (mm)",
        "right_margin": "Rechter Rand (mm)",
        "bottom_margin": "Unterer Rand (mm)",
        "left_margin": "Linker Rand (mm)",
        "title_line_1": "Titel Zeile 1 (optional)",
        "rows": "Zeilen",
        "columns": "Spalten",
        "label_width": "Etikettenbreite (mm)",
        "label_height": "Etikettenhöhe (mm)",
        "pitch_x": "Abstand X (mm)",
        "pitch_y": "Abstand Y (mm)",
        "origin_x": "Ursprung X (mm)",
        "origin_y": "Ursprung Y (mm)",

    },
    "it": {
        "hero_title": "Stampa etichette indirizzo in pochi minuti",
        "hero_desc": "Carica il tuo CSV, scegli il foglio Avery (o crea un formato personalizzato), regola i margini, visualizza l'anteprima ed esporta un PDF pronto per la stampa.",
        "dark_mode": "Modalità scura",
        "how_it_works": "Come funziona",
        "step1_title": "1. Carica",
        "step1_desc": "Importa un CSV con titolo, nome, cognome, indirizzo e paese.",
        "step2_title": "2. Configura",
        "step2_desc": "Seleziona un formato Avery o definisci il tuo formato etichetta.",
        "step3_title": "3. Stampa",
        "step3_desc": "Anteprima etichette, genera PDF e stampa sui fogli adesivi.",
        "templates_preview": "Anteprima modelli",
        "generate_labels": "Genera le tue etichette",
        "need_example": "Ti serve un esempio?",
        "download_sample": "Scarica CSV di esempio",
        "preview_labels": "Anteprima etichette",
        "badge_csv": "Carica CSV",
        "badge_avery": "Modelli Avery",
        "badge_custom": "Formato personalizzato",
        "badge_pdf": "Esporta PDF",
        "avery_template": "Modello Avery",
        "csv_file": "File CSV",
        "top_margin": "Margine superiore (mm)",
        "right_margin": "Margine destro (mm)",
        "bottom_margin": "Margine inferiore (mm)",
        "left_margin": "Margine sinistro (mm)",
        "title_line_1": "Titolo riga 1 (opzionale)",
        "rows": "Righe",
        "columns": "Colonne",
        "label_width": "Larghezza etichetta (mm)",
        "label_height": "Altezza etichetta (mm)",
        "pitch_x": "Passo X (mm)",
        "pitch_y": "Passo Y (mm)",
        "origin_x": "Origine X (mm)",
        "origin_y": "Origine Y (mm)",

    },
    "nl": {
        "hero_title": "Print adreslabels in minuten",
        "hero_desc": "Upload je CSV, kies je Avery-vel (of maak je eigen formaat), pas marges aan, bekijk een preview en exporteer een printklare PDF.",
        "dark_mode": "Donkere modus",
        "how_it_works": "Hoe het werkt",
        "step1_title": "1. Upload",
        "step1_desc": "Importeer een CSV met titel, naam, achternaam, adres en land.",
        "step2_title": "2. Configuratie",
        "step2_desc": "Kies een Avery-formaat of definieer je eigen etiketformaat.",
        "step3_title": "3. Print",
        "step3_desc": "Bekijk labels, genereer PDF en print op je stickervellen.",
        "templates_preview": "Sjabloonvoorbeeld",
        "generate_labels": "Genereer je labels",
        "need_example": "Voorbeeld nodig?",
        "download_sample": "Voorbeeld-CSV downloaden",
        "preview_labels": "Labels previewen",
        "badge_csv": "CSV upload",
        "badge_avery": "Avery-sjablonen",
        "badge_custom": "Aangepast formaat",
        "badge_pdf": "PDF export",
        "avery_template": "Avery-sjabloon",
        "csv_file": "CSV-bestand",
        "top_margin": "Bovenmarge (mm)",
        "right_margin": "Rechtermarge (mm)",
        "bottom_margin": "Ondermarge (mm)",
        "left_margin": "Linkermarge (mm)",
        "title_line_1": "Titel regel 1 (optioneel)",
        "rows": "Rijen",
        "columns": "Kolommen",
        "label_width": "Labelbreedte (mm)",
        "label_height": "Labelhoogte (mm)",
        "pitch_x": "Steek X (mm)",
        "pitch_y": "Steek Y (mm)",
        "origin_x": "Oorsprong X (mm)",
        "origin_y": "Oorsprong Y (mm)",

    },
}


def normalize_lang(value: str | None) -> str:
    v = (value or "en").lower().strip()
    return v if v in TRANSLATIONS else "en"


def t(lang: str, key: str) -> str:
    return TRANSLATIONS.get(lang, TRANSLATIONS["en"]).get(key, TRANSLATIONS["en"].get(key, key))
